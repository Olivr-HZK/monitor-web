# 监测汇总平台 - 网站上线部署指南

本项目是 **Vite + React** 构建的静态单页应用（SPA），构建后为纯静态文件，可部署到任意静态托管平台。

---

## 一、部署前准备

### 1. 本地构建验证

在项目根目录执行：

```bash
# 若有虚拟环境可先激活（本项目为 Node 项目，一般不需要）
npm install
npm run build
```

构建成功后会在项目根目录生成 `dist/` 文件夹，内含 `index.html`、`assets/` 等静态文件。

### 2. 本地预览构建结果

```bash
npm run preview
```

在浏览器打开提示的地址（通常是 http://localhost:4173），确认功能正常后再部署。

---

## 二、推荐部署方式

### 方式 A：Vercel（推荐，最简单）

1. **注册**：[vercel.com](https://vercel.com)，可用 GitHub 登录。
2. **导入项目**：
   - 将代码推送到 GitHub 仓库；
   - 在 Vercel 点击 “Add New Project”，选择该仓库；
   - 框架预设选 **Vite**，Vercel 会自动识别；
   - 构建命令：`npm run build`，输出目录：`dist`；
   - 点击 Deploy。
3. **结果**：几分钟内会得到 `https://你的项目.vercel.app` 的访问地址。

**若部署在子路径（如 `your-domain.com/监测汇总/`）**：在项目根目录的 `vite.config.ts` 中增加 `base: '/监测汇总/'`，然后重新构建并部署。

---

### 方式 B：Netlify

1. **注册**：[netlify.com](https://www.netlify.com)，可用 GitHub 登录。
2. **导入项目**：
   - 代码在 GitHub 上；
   - Netlify → “Add new site” → “Import an existing project” → 选 GitHub 与仓库；
   - Build command：`npm run build`；
   - Publish directory：`dist`；
   - 保存并 Deploy。
3. **结果**：会得到 `https://随机名.netlify.app`，可在 “Domain settings” 中绑定自己的域名。

---

### 方式 C：GitHub Pages

1. **安装 gh-pages（可选，用于自动部署）**：
   ```bash
   npm install --save-dev gh-pages
   ```
2. **在 `package.json` 中增加**：
   ```json
   "homepage": "https://你的用户名.github.io/仓库名/",
   "scripts": {
     "predeploy": "npm run build",
     "deploy": "gh-pages -d dist"
   }
   ```
3. **若用子路径**：在 `vite.config.ts` 中设置 `base: '/仓库名/'`。
4. **部署**：
   ```bash
   npm run deploy
   ```
5. **在 GitHub 仓库**：Settings → Pages → Source 选 “gh-pages” 分支，保存后等待生效。访问地址：`https://你的用户名.github.io/仓库名/`。

---

### 方式 D：Cloudflare Pages

1. **注册**：[pages.cloudflare.com](https://pages.cloudflare.com)。
2. **创建项目**：连接 GitHub 仓库，构建命令 `npm run build`，输出目录 `dist`。
3. **部署**：每次推送到 GitHub 会自动构建并发布，也可在控制台手动部署。

---

## 三、注意事项

| 项目 | 说明 |
|------|------|
| **静态资源** | `public/` 下的文件（如 `competitor_data.db`、CSV、图片）会被 Vite 复制到 `dist/`，部署后可通过根路径访问。 |
| **路由** | 若将来使用 React Router 的 history 模式，需在托管平台配置：所有路径回退到 `index.html`（Vercel/Netlify 对 SPA 通常已默认支持）。 |
| **环境变量** | 若有 `.env` 变量，需在对应平台（Vercel/Netlify 等）的 “Environment Variables” 中配置，不要提交敏感信息到 Git。 |
| **域名** | 各平台都支持绑定自己的域名，在 “Domain / DNS” 里按提示添加 CNAME 或 A 记录即可。 |

---

## 四、简要流程小结

1. 代码推到 **GitHub**。
2. 在 **Vercel / Netlify / GitHub Pages / Cloudflare Pages** 中“从 GitHub 导入项目”。
3. 构建命令：`npm run build`，发布目录：`dist`。
4. 部署完成后用生成的 URL 访问；需要时再绑定自己的域名。

如果你告诉我打算用哪一种（例如 Vercel 或 GitHub Pages），我可以按你选的平台写出更细的每一步操作说明（包括 `vite.config.ts` 和 `package.json` 要改的确切内容）。
